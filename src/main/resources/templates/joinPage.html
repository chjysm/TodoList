<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title> 회원가입 </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        $(function() {
            let $frm = $(".login_f");
            $frm.on("submit", function(e) {
                e.preventDefault();
                let myData = {
                    "memberId" : $('#memberId').val(),
                    "memberPwd" : $('#memberPwd').val(),
                    "memberName" : $('#memberName').val(),
                };

                $.ajax({
                    type: "POST",
                    dataType: "json",
                    url: $frm.attr("action"),
                    data: JSON.stringify( myData ),
                    contentType: 'application/json',
                    success:function(res) {
                        alert("회원가입 성공");
                        location.href = "/";
                    },
                    error : function(res) {
                        alert("회원가입 실패!");
                    }

                });
            });
        });
    </script>
</head>
<body>
<div class="login_wrap">
    <h1>회원가입</h1>
    <form class="login_f" method='post' action='/member/join'>
        <p>
            <label for="memberId">아이디</label>
            <input type="text" name="memberId" id="memberId"  />
        </p>
        <p>
            <label for="memberPwd">비밀번호</label>
            <input type="password" name="memberPwd" id="memberPwd"  />
        </p>
        <p>
            <label for="memberName">닉네임</label>
            <input type="text" name="memberName" id="memberName"  />
        </p>
        <p><input type="submit" value="회원가입" class="join_btn" /></p>
    </form>
</div>
</body>
</html>