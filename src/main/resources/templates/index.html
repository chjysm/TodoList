<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title> 로그인 </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        $(function() {
            let $frm = $(".login_f");
            $frm.on("submit", function(e) {
                e.preventDefault();
                let myData = {
                    "memberId" : $('#memberId').val(),
                    "memberPwd" : $('#memberPwd').val(),
                };
                $.ajax({
                    type: "POST",
                    url: $frm.attr("action"),
                    data: JSON.stringify( myData ),
                    dataType: "json",
                    contentType: 'application/json',
                    success:function(res) {
                        alert("로그인 성공");
                        location.href = "/home";
                    },
                    error : function(res) {
                        alert("로그인 실패! ID, PWD 를 확인해 주세요.");
                    }

                });
            });
        });
    </script>
</head>
<body>
<div class="login_wrap">
    <h1>로그인</h1>
    <form class="login_f" method='post' action='/member/login'>
        <p>
            <label for="memberId">아이디</label>
            <input type="text" name="memberId" id="memberId"  />
        </p>
        <p>
            <label for="memberPwd">비밀번호</label>
            <input type="password" name="memberPwd" id="memberPwd"  />
        </p>
        <p><input type="submit" value="로그인" class="login_btn" /></p>
        <p><a href="/joinPage">회원가입</a></p>
    </form>
</div>
</body>
</html>